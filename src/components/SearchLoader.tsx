import { motion } from "motion/react";

export function SearchLoader() {
  const transition = {
    duration: 5,
    repeat: Infinity,
    ease: "easeInOut"
  };

  return (
    <div className="w-[205px] h-[205px]">
      <svg viewBox="0 0 205 205" fill="none" xmlns="http://www.w3.org/2000/svg" className="w-full h-full">
        <g id="Component 13">
          {/* Background Circle */}
          <circle id="Circle" cx="102.5" cy="102.5" r="102.5" fill="url(#paint0_linear_13_167)" />
          
          {/* Magnifying Glass */}
          <motion.g 
            id="Magnifying glass"
            initial={{ opacity: 0, scale: 0.75, rotate: 0 }}
            animate={{ 
              opacity: [0, 0, 1, 1, 0],
              scale: [0.75, 0.75, 1, 1, 0.75],
              rotate: [0, 0, 30, 30, 30]
            }}
            transition={{
              ...transition,
              times: [0, 0.14, 0.26, 0.88, 1] // 0.7s, 1.3s, 4.4s
            }}
            style={{ originX: 0.5, originY: 0.5 }} // transform-origin: center
          >
            <path d="M146.72 108.847C149.624 109.422 151.436 112.333 150.67 115.193C149.908 118.035 146.913 119.652 144.119 118.727L121.521 111.25L123.4 104.236L146.72 108.847Z" fill="#105BF5" />
            <path d="M134.603 106.454C135.206 109.388 134.777 112.474 133.338 115.161L121.521 111.252L123.401 104.238L134.603 106.454Z" fill="#191E3B" />
            <path d="M115.463 126.477C101.912 134.301 84.5835 129.658 76.7594 116.106C68.9354 102.555 73.5785 85.2262 87.1302 77.4022C100.682 69.5782 118.01 74.2213 125.834 87.7729C133.658 101.325 129.015 118.653 115.463 126.477Z" fill="#105BF5" />
            <path d="M89.6297 81.7322C100.79 75.2889 115.061 79.1122 121.504 90.2722C127.947 101.432 124.123 115.704 112.963 122.147C101.803 128.59 87.5325 124.766 81.0892 113.606C74.6462 102.446 78.4699 88.1755 89.6297 81.7322Z" fill="white" />
            <path d="M118.478 106.787C120.798 98.1286 116.393 89.2525 108.465 85.7048C107.206 85.1414 105.932 86.234 106.098 87.6032C107.348 97.8981 104.64 108.283 98.5215 116.657L98.1548 117.159C97.3257 118.293 97.903 119.9 99.3011 120.042C107.928 120.915 116.161 115.434 118.478 106.787Z" fill="#D8EAFC" />
          </motion.g>

          {/* Main Sparkle */}
          <motion.path 
            id="Main sparkle" 
            d="M116 97.4385C116 98.016 115.583 98.4492 115.027 98.4492C109.604 98.8824 105.294 103.358 104.877 108.989C104.877 109.567 104.46 110 103.904 110H102.096C101.54 110 101.123 109.567 101.123 108.989C100.706 103.358 96.3957 98.8824 90.9733 98.4492C90.4171 98.4492 90 98.016 90 97.4385V95.5615C90 94.984 90.4171 94.5508 90.9733 94.5508C96.3957 94.1176 100.706 89.6417 101.123 84.0107C101.123 83.4332 101.54 83 102.096 83H103.904C104.46 83 104.877 83.4332 104.877 84.0107C105.294 89.6417 109.604 94.1176 115.027 94.5508C115.583 94.5508 116 94.984 116 95.5615V97.4385Z" 
            fill="#7BB8F4" 
            initial={{ opacity: 0, scale: 0.5 }}
            animate={{
              opacity: [0, 0, 1, 1, 0],
              scale: [0.5, 0.5, 1, 0.75, 1, 0.5]
            }}
            transition={{
              ...transition,
              times: [0, 0.16, 0.26, 0.6, 0.9, 1] // 0.8s, 1.3s, 3.0s, 4.5s
            }}
            style={{ originX: 0.5, originY: 0.5 }}
          />

          {/* Sparkle 1 */}
          <motion.path 
            id="Sparkle 1" 
            d="M74.2075 84.4528C71.6981 84.8491 69.8491 86.8302 69.4528 89.2075C69.3208 89.6038 68.9245 90 68.3962 90H67.6038C67.0755 90 66.6792 89.6038 66.6792 89.0755C66.283 86.566 64.3019 84.717 61.9245 84.3208C61.3962 84.3208 61 83.9245 61 83.3962V82.6038C61 82.0755 61.3962 81.6792 61.7925 81.5472C64.3019 81.1509 66.1509 79.1698 66.5472 76.7925C66.6792 76.3962 67.0755 76 67.6038 76H68.5283C68.9245 76 69.3208 76.3962 69.4528 76.7925C69.8491 79.3019 71.8302 81.1509 74.2075 81.5472C74.6038 81.6792 75 82.0755 75 82.6038V83.5283C75 83.9245 74.6038 84.3208 74.2075 84.4528Z" 
            fill="#7BB8F4" 
            initial={{ opacity: 0, scale: 0.5, x: 15, y: 10 }}
            animate={{
              opacity: [0, 0, 1, 1, 0],
              scale: [0.5, 0.5, 1, 1.25, 1, 0.5],
              x: [15, 15, 0, -5, -5],
              y: [10, 10, 0, -2.5, -2.5]
            }}
            transition={{
              ...transition,
              times: [0, 0.16, 0.3, 0.6, 0.9, 1] // 0.8s, 1.5s, 3.0s, 4.5s
            }}
            style={{ originX: 0.5, originY: 0.5 }}
          />

          {/* Sparkle 2 */}
          <motion.path 
            id="Sparkle 2" 
            d="M77.2383 114.999C76.7953 114.556 76.2047 114.556 75.9094 114.999L71.3322 119.576C70.8893 120.019 70.8893 120.61 71.3322 120.905L75.7617 125.335C76.2047 125.778 76.7953 125.778 77.2383 125.335C78.4195 124.154 80.6342 121.939 81.6678 120.905C82.1107 120.462 82.1107 119.872 81.6678 119.576L77.2383 114.999Z" 
            fill="#7BB8F4" 
            initial={{ opacity: 0, scale: 0.5, x: 15, y: -10 }}
            animate={{
              opacity: [0, 0, 1, 1, 0],
              scale: [0.5, 0.5, 1, 0.25, 1, 0.5],
              x: [15, 15, 0, -5, -5],
              y: [-10, -10, 0, 2.5, 2.5]
            }}
            transition={{
              ...transition,
              times: [0, 0.16, 0.3, 0.6, 0.9, 1]
            }}
            style={{ originX: 0.5, originY: 0.5 }}
          />

          {/* Sparkle 3 */}
          <motion.path 
            id="Sparkle 3" 
            d="M125.836 67.818C125.634 67.6167 125.366 67.6167 125.232 67.818L123.151 69.8985C122.95 70.0999 122.95 70.3683 123.151 70.5026L125.164 72.516C125.366 72.7173 125.634 72.7173 125.836 72.516C126.372 71.9791 127.379 70.9724 127.849 70.5026C128.05 70.3012 128.05 70.0328 127.849 69.8985L125.836 67.818Z" 
            fill="#7BB8F4" 
            initial={{ opacity: 0, scale: 0.5, x: -10, y: 15 }}
            animate={{
              opacity: [0, 0, 1, 1, 0],
              scale: [0.5, 0.5, 1, 1.5, 1, 0.5],
              x: [-10, -10, 0, 2.5, 2.5],
              y: [15, 15, 0, -5, -5]
            }}
            transition={{
              ...transition,
              times: [0, 0.16, 0.3, 0.6, 0.9, 1]
            }}
            style={{ originX: 0.5, originY: 0.5 }}
          />
        </g>
        <defs>
          <linearGradient id="paint0_linear_13_167" x1="102.5" y1="0" x2="102.5" y2="205" gradientUnits="userSpaceOnUse">
            <stop stopColor="#7BB8F4" stopOpacity="0.25"></stop>
            <stop offset="0.72" stopColor="#7BB8F4" stopOpacity="0"></stop>
          </linearGradient>
        </defs>
      </svg>
    </div>
  );
}